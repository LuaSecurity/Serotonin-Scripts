local a={}local b=1000;local c=0;local d={}function a.sleep(e)local f=coroutine.running()if not f then error("scheduler.sleep() must be called inside a coroutine")end;d[#d+1]={co=f,wake_time=c+e}coroutine.yield()end;function a.run(g)local f=coroutine.create(g)coroutine.resume(f)end;function a.setTimeout(g,h)a.run(function()a.sleep(h)g()end)end;function a.tick()c=c+b;for i=#d,1,-1 do local j=d[i]if c>=j.wake_time then table.remove(d,i)coroutine.resume(j.co)end end end;local k;do local l={}l.active_notifications={}l.Style={MIN_WIDTH=250,MIN_HEIGHT=25,MAX_WIDTH=500,ENTER_DURATION=350,DISMISS_DURATION=400,BOUNCE_DURATION=180,BOUNCE_SCALE=0.95,SPRING_CONSTANT=300,DAMPING_FACTOR=40,WARNING_PULSE_TARGET_COLOR={r=100,g=50,b=50},PULSE_SPEED=350,BG_COLOR={r=60,g=56,b=54},BG_ALPHA=235,OUTLINE_COLOR={r=130,g=125,b=120},OUTLINE_ALPHA=255,TITLE_COLOR={r=245,g=245,b=245},TITLE_ALPHA=255,BODY_COLOR={r=190,g=190,b=190},BODY_ALPHA=255,CLOSE_BUTTON_COLOR={r=190,g=190,b=190},CLOSE_BUTTON_ALPHA=255,TEXT_GLOW_COLOR={r=255,g=255,b=255},TEXT_GLOW_ALPHA=15,BORDER_GLOW_COLOR={r=100,g=95,b=90},GLOW_INTENSITY=60,ROUNDNESS=12,GLOW_LAYERS=20,GLOW_SPREAD=0.28,PADDING_X=20,PADDING_Y=15,LINE_SPACING=5,PADDING_BETWEEN_NOTIFICATIONS=15}local function m(n)return 1-(1-n)^3 end;local function o(p,q,n)return p+(q-p)*n end;local function r(s,t,n)return Color3.fromRGB(o(s.r,t.r,n),o(s.g,t.g,n),o(s.b,t.b,n))end;local function u(v,w,x,y,z,A,B,C,D,E)local F=Color3.fromRGB(z.r,z.g,z.b)if B==0 then return end;local G=D/B;for i=B,1,-1 do local H=i*C;draw.RectFilled(v-H,w-H,x+H*2,y+H*2,F,A+H,G*E)end end;local function I(J,v,w,K,L,M,N,E)if not J or J==""then return end;local F=Color3.fromRGB(M.r,M.g,M.b)local O=Color3.fromRGB(K.r,K.g,K.b)local P=N*E;local Q=L*E;draw.Text(J,v-1,w-1,F,nil,P)draw.Text(J,v,w-1,F,nil,P)draw.Text(J,v+1,w-1,F,nil,P)draw.Text(J,v-1,w,F,nil,P)draw.Text(J,v+1,w,F,nil,P)draw.Text(J,v-1,w+1,F,nil,P)draw.Text(J,v,w+1,F,nil,P)draw.Text(J,v+1,w+1,F,nil,P)draw.Text(J,v,w,O,nil,Q)end;local function R(J,S)if not J or J==""then return{},0,0 end;local T={}local U=""local V=0;local W,X=draw.GetTextSize("Tg")for Y in string.gmatch(J,"%S+")do local Z=U==""and Y or U.." "..Y;local _,W=draw.GetTextSize(Z)if _>S and U~=""then table.insert(T,U)local a0,W=draw.GetTextSize(U)V=math.max(V,a0)U=Y else U=Z end end;if U~=""then table.insert(T,U)local a0,W=draw.GetTextSize(U)V=math.max(V,a0)end;local a1=#T*X+math.max(0,#T-1)*l.Style.LINE_SPACING;return T,V,a1 end;function l:draw_notification(a2)local a3=self.Style;local a4,a5=draw.GetTextSize(a2.title)local a6=a3.MAX_WIDTH-a3.PADDING_X*2;local a7,a8,a9=R(a2.body,a6)local aa=math.max(a4,a8)+a3.PADDING_X*2;local ab=a3.PADDING_Y+a5+a3.LINE_SPACING+a9+a3.PADDING_Y;a2.w=math.min(a3.MAX_WIDTH,math.max(a3.MIN_WIDTH,aa))a2.h=math.max(a3.MIN_HEIGHT,ab)local ac,ad,E=0,1.0,1.0;local ae=Color3.fromRGB(a3.BG_COLOR.r,a3.BG_COLOR.g,a3.BG_COLOR.b)if a2.type=="warning"then local af=(math.sin(utility.GetTickCount()/a3.PULSE_SPEED)+1)/2;ae=r(a3.BG_COLOR,a3.WARNING_PULSE_TARGET_COLOR,af)end;local ag=a2.anim_progress;if a2.state=="entering"then ac=(1.0-m(ag))*100;E=ag elseif a2.state=="bouncing"then ad=1.0-4*(ag-ag*ag)*(1.0-a3.BOUNCE_SCALE)elseif a2.state=="exiting"then local ah=m(ag)ac=ah*(a2.w+50)E=1.0-ag end;local ai,aj=a2.w*ad,a2.h*ad;local ak,al=a2.x+ac+(a2.w-ai)/2,a2.current_y+(a2.h-aj)/2;u(ak,al,ai,aj,a3.BORDER_GLOW_COLOR,a3.ROUNDNESS*ad,a3.GLOW_LAYERS,a3.GLOW_SPREAD,a3.GLOW_INTENSITY,E)local am=Color3.fromRGB(a3.OUTLINE_COLOR.r,a3.OUTLINE_COLOR.g,a3.OUTLINE_COLOR.b)draw.Rect(ak,al,ai,aj,am,1.0,a3.ROUNDNESS*ad,a3.OUTLINE_ALPHA*E)draw.RectFilled(ak+1,al+1,ai-2,aj-2,ae,(a3.ROUNDNESS-1)*ad,a3.BG_ALPHA*E)local an=ak+a3.PADDING_X*ad;local ao=al+a3.PADDING_Y*ad;I(a2.title,an,ao,a3.TITLE_COLOR,a3.TITLE_ALPHA,a3.TEXT_GLOW_COLOR,a3.TEXT_GLOW_ALPHA,E)ao=ao+a5*ad+a3.LINE_SPACING*ad;local W,ap=draw.GetTextSize("Tg")for i,aq in ipairs(a7)do I(aq,an,ao,a3.BODY_COLOR,a3.BODY_ALPHA,a3.TEXT_GLOW_COLOR,a3.TEXT_GLOW_ALPHA,E)if i<#a7 then ao=ao+ap*ad+a3.LINE_SPACING*ad end end;local ar="Ã—"local as,at=draw.GetTextSize(ar)a2.close_btn={x=ak+ai-as*ad-a3.PADDING_X*ad,y=al+a3.PADDING_Y*ad,w=as*ad,h=at*ad}local au=Color3.fromRGB(a3.CLOSE_BUTTON_COLOR.r,a3.CLOSE_BUTTON_COLOR.g,a3.CLOSE_BUTTON_COLOR.b)draw.TextOutlined(ar,a2.close_btn.x,a2.close_btn.y,au,nil,a3.CLOSE_BUTTON_ALPHA*E)end;function l:update()local a3=self.Style;local c=utility.GetTickCount()local av=utility.GetDeltaTime()local aw=mouse.is_clicked("leftmouse")local ax=utility.GetMousePos()local ay,az=ax[1],ax[2]for i=#self.active_notifications,1,-1 do local aA=self.active_notifications[i]if aA.state=="entering"then local aB=c-aA.anim_start_time;aA.anim_progress=math.min(1.0,aB/a3.ENTER_DURATION)if aA.anim_progress>=1.0 then aA.state="idle"end elseif aA.state=="idle"and aA.type=="timed"and c-aA.creation_time>=aA.duration then aA.state="exiting"aA.anim_start_time=c;aA.anim_progress=0 elseif aA.state=="bouncing"then local aB=c-aA.anim_start_time;aA.anim_progress=math.min(1.0,aB/a3.BOUNCE_DURATION)if aA.anim_progress>=1.0 then aA.state="exiting"aA.anim_start_time=c;aA.anim_progress=0 end elseif aA.state=="exiting"then local aB=c-aA.anim_start_time;aA.anim_progress=math.min(1.0,aB/a3.DISMISS_DURATION)if aA.anim_progress>=1.0 then table.remove(self.active_notifications,i)goto aC end end;if aA.state~="exiting"then local aD=(aA.target_y-aA.current_y)*a3.SPRING_CONSTANT;local aE=-aA.y_velocity*a3.DAMPING_FACTOR;local aF=aD+aE;aA.y_velocity=aA.y_velocity+aF*av;aA.current_y=aA.current_y+aA.y_velocity*av end;if aw and(aA.state=="idle"or aA.state=="entering")and aA.close_btn then if ay>=aA.close_btn.x and ay<=aA.close_btn.x+aA.close_btn.w and az>=aA.close_btn.y and az<=aA.close_btn.y+aA.close_btn.h then aA.state="bouncing"aA.anim_start_time=c;aA.anim_progress=0 end end::aC::end end;function l:paint()local aG,W=cheat.getWindowSize()local aH=aG-50;local aI=50;self.stack_bottom_y=aI;for W,aA in ipairs(self.active_notifications)do aA.x=aH-(aA.w or self.Style.MIN_WIDTH)if aA.state~="exiting"then aA.target_y=aI;aI=aI+(aA.h or self.Style.MIN_HEIGHT)+self.Style.PADDING_BETWEEN_NOTIFICATIONS;self.stack_bottom_y=aI end;self:draw_notification(aA)end end;function l:Show(aJ)aJ=aJ or{}local aK=self.stack_bottom_y or 50;local aL={title=aJ.title or"Notification",body=aJ.body or"",type=aJ.type or"normal",duration=aJ.duration or 3000,creation_time=utility.GetTickCount(),state="entering",anim_progress=0,anim_start_time=utility.GetTickCount(),current_y=aK,target_y=aK,y_velocity=0,w=0,h=0,close_btn=nil}table.insert(self.active_notifications,aL)end;k=l end;local l=k;local aM=120;local aN=196.2;local aO={staff_detector_enabled=true,throwable_enabled=true,throwable_color={r=0,g=255,b=255,a=255},throwable_max_dist=1000,fire_enabled=true,fire_color={r=255,g=165,b=0,a=255},fire_max_dist=500,fire_cluster_range=15}local aP={}local aQ="https://groups.roblox.com/v2/users/%d/groups/roles"local aR={["User-Agent"]="Roblox/Linux"}local aS={}local aT={}local aU=3461453;local aV="Moderator"local function aW(aX,aY,aZ)local a_=aX.UserId;local b0=string.format(aQ,a_)local b1=string.format("%d:%d",a_,aY)local b2=aS[b1]if b2~=nil then aZ(b2.rank,b2.name)return end;http.Get(b0,aR,function(b3)local b4=0;local b5=""if b3 then local b6=string.format('"id"%%s*:%d,.-"name"%%s*:"(.-)"%%s*,"rank"%%s*:(%%d+)',aY)local b7,b8=b3:match(b6)if b8 then b4=tonumber(b8)b5=b7 or""end end;aS[b1]={rank=b4,name=b5}aZ(b4,b5)end)end;local function b9(aX,aY,aZ)aW(aX,aY,aZ)end;local function ba()local bb=game.Players:GetChildren()for W,bc in ipairs(bb)do local aX=bc;if aX:IsA("Player")and aX~=game.LocalPlayer and not aT[aX.UserId]then b9(aX,aU,function(b4,b5)if b5==aV then l:Show({title="STAFF DETECTED",body=string.format("%s is a %s in Group %d",aX.Name,aV,aU),type="warning",duration=10000})aT[aX.UserId]=true end end)end end end;local function bd(be,bf,bg,bh,bi)if not bf or bf.Magnitude<1 then return end;local bj=Vector3.new(0,-aN,0)local bk=0.03;local bl=be;local bm=bf;local bn={}local bo=bg and bg.Y or 0;local bp=nil;for i=1,aM do local bq=bl;bm=bm+bj*bk;bl=bl+bm*bk;if bl.Y<bo then local br=bl-bq;if br.Y~=0 then local n=(bo-bq.Y)/br.Y;if n>=0 and n<=1 then bp=bq+br*n end end;break end;local bs,bt,bu=utility.WorldToScreen(bl)if bu then table.insert(bn,{bs,bt})end end;local bv=Color3.fromRGB(aO.throwable_color.r,aO.throwable_color.g,aO.throwable_color.b)if#bn>1 then draw.Polyline(bn,bv,false,1.0)end;if bp then local bs,bt,bu=utility.WorldToScreen(bp)if bu then draw.CircleFilled(bs,bt,5,bv)local J=string.format("%s [%dm]",bh,math.floor(bi))local bw,W=draw.GetTextSize(J,"Tahoma")draw.TextOutlined(J,bs-bw/2,bt+10,Color3.fromRGB(255,255,255),"Tahoma")end end end;local function bx(by,bl)local bz=by.Address;local bq=aP[bz]if bq then local bA,bB,bC=utility.WorldToScreen(bq)local bD,bE,bF=utility.WorldToScreen(bl)if bA and bB and bD and bE and(bC or bF)then draw.Line(bA,bB,bD,bE,Color3.fromRGB(255,0,0),1.0)end end;aP[bz]=bl end;local function bG(bH,bI)if not bH or#bH~=8 then return end;local bJ={}local bK={}for i,bL in ipairs(bH)do local bs,bt,bu=utility.WorldToScreen(bL)bJ[i]={bs,bt}if bs and bt then table.insert(bK,{bs,bt})end end;if#bK>=3 then local bM=draw.ComputeConvexHull(bK)if bM and#bM>=3 then draw.ConvexPolyFilled(bM,bI,50)end end;local bN={{1,2},{2,6},{6,5},{5,1},{4,3},{3,7},{7,8},{8,4},{1,4},{2,3},{6,7},{5,8}}local bO=false;for W,bP in ipairs(bN)do local bQ=bJ[bP[1]]local bR=bJ[bP[2]]if bQ and bQ[1]and bQ[2]and bR and bR[1]and bR[2]then draw.Line(bQ[1],bQ[2],bR[1],bR[2],bI,1.0)bO=true end end;if bO or#bK>=3 then return bJ end end;local function bS(bg)if not bg or not aO.fire_enabled then return end;local bT=game.Workspace;local bU={}for W,bV in pairs(bT:GetChildren())do local bW=bV:FindFirstChild("Primary")if bW then local bX=bW:FindFirstChildOfClass("ParticleEmitter")local bY=bW.Position;if bX and bY and(bY-bg).Magnitude<aO.fire_max_dist then table.insert(bU,bW)end end end;local bZ={}for W,b_ in ipairs(bU)do local bY=b_.Position;local c0=false;for W,c1 in ipairs(bZ)do if(bY-c1.center).Magnitude<aO.fire_cluster_range then table.insert(c1.parts,b_)local c2=Vector3.new(0,0,0)for W,ag in ipairs(c1.parts)do c2=c2+ag.Position end;c1.center=c2/#c1.parts;c0=true;break end end;if not c0 then table.insert(bZ,{center=bY,parts={b_}})end end;local bv=Color3.fromRGB(aO.fire_color.r,aO.fire_color.g,aO.fire_color.b)for W,c1 in ipairs(bZ)do local bH={}if#c1.parts==1 then bH=draw.GetPartCorners(c1.parts[1])else local c3=Vector3.new(math.huge,math.huge,math.huge)local c4=Vector3.new(-math.huge,-math.huge,-math.huge)for W,b_ in ipairs(c1.parts)do local c5=draw.GetPartCorners(b_)if c5 then for W,c6 in ipairs(c5)do c3=Vector3.new(math.min(c3.X,c6.X),math.min(c3.Y,c6.Y),math.min(c3.Z,c6.Z))c4=Vector3.new(math.max(c4.X,c6.X),math.max(c4.Y,c6.Y),math.max(c4.Z,c6.Z))end end end;bH={Vector3.new(c3.X,c3.Y,c3.Z),Vector3.new(c4.X,c3.Y,c3.Z),Vector3.new(c4.X,c4.Y,c3.Z),Vector3.new(c3.X,c4.Y,c3.Z),Vector3.new(c3.X,c3.Y,c4.Z),Vector3.new(c4.X,c3.Y,c4.Z),Vector3.new(c4.X,c4.Y,c4.Z),Vector3.new(c3.X,c4.Y,c4.Z)}end;local c7=bG(bH,bv)if c7 then local c8=math.huge;local c9=0;local ca=0;for W,cb in ipairs(c7)do if cb[1]and cb[2]then if cb[2]<c8 then c8=cb[2]end;c9=c9+cb[1]ca=ca+1 end end;if ca>0 then local cc=c9/ca;local cd=(c1.center-bg).Magnitude;local ce=#c1.parts>1 and string.format("FIRE [%dm]",cd)or string.format("FIRE [%dm]",cd)local bw,W=draw.GetTextSize(ce,"Tahoma")draw.TextOutlined(ce,cc-bw/2,c8-12,Color3.fromRGB(255,255,255),"Tahoma")end end end end;local function cf()local cg=game.LocalPlayer;local bg=cg and cg.Character and cg.Character:FindFirstChild("HumanoidRootPart")and cg.Character.HumanoidRootPart.Position or nil;if not bg then aP={}return end;bS(bg)if aO.throwable_enabled then local bT=game.Workspace;local ch={}for W,by in pairs(bT:GetChildren())do local ci=by.Name;if ci:sub(1,9)=="Throwable"then local cj=by.Position;local bf=by.Velocity;if cj and bf then local bz=by.Address;ch[bz]=true;local bi=(cj-bg).Magnitude;if bi<=aO.throwable_max_dist then local bh=ci:sub(10):gsub("^%s*-%s*","")if bh==""then bh="Throwable"end;bd(cj,bf,bg,bh,bi)bx(by,cj)end end end end;for ck,W in pairs(aP)do if not ch[ck]then aP[ck]=nil end end end end;local function cl()cf()l:paint()end;local cm="Arcane"ui.newTab(cm,"Arcane")ui.newContainer(cm,"throwable_settings","Trowables",{autosize=true,next=true})ui.newContainer(cm,"fire_settings","Molotov",{autosize=true})ui.newCheckbox(cm,"throwable_settings","Enabled")ui.newColorpicker(cm,"throwable_settings","Color",aO.throwable_color)ui.newSliderInt(cm,"throwable_settings","Max Distance",0,2000,1000)ui.newCheckbox(cm,"fire_settings","Enabled")ui.newColorpicker(cm,"fire_settings","Color",aO.fire_color)ui.newSliderInt(cm,"fire_settings","Max Distance",0,2000,500)ui.newSliderInt(cm,"fire_settings","Cluster Range",0,50,15)ui.newContainer(cm,"staff_settings","Staff",{autosize=true,next=true})ui.newCheckbox(cm,"staff_settings","Staff Notifier")local function cn()a.tick()aO.staff_detector_enabled=ui.getValue(cm,"staff_settings","Enabled")aO.throwable_enabled=ui.getValue(cm,"throwable_settings","Enabled")aO.throwable_color=ui.getValue(cm,"throwable_settings","Color")aO.throwable_max_dist=ui.getValue(cm,"throwable_settings","Max Distance")aO.fire_enabled=ui.getValue(cm,"fire_settings","Enabled")aO.fire_color=ui.getValue(cm,"fire_settings","Color")aO.fire_max_dist=ui.getValue(cm,"fire_settings","Max Distance")aO.fire_cluster_range=ui.getValue(cm,"fire_settings","Cluster Range")if aO.staff_detector_enabled then ba()end;l:update()end;cheat.register("onPaint",cl)cheat.register("onSlowUpdate",cn)
